CREATE TABLE TB_POPCREATOR (
	USER_ID VARCHAR2(20) PRIMARY KEY NOT NULL,
	USER_PWD VARCHAR2(20) NOT NULL,
	USER_NAME NVARCHAR2(20) NOT NULL,
	USER_AGE NUMBER NOT NULL,
	USER_GENDER CHAR(3) NOT NULL
);
 
CREATE TABLE TB_POPUP (
	POPUP_NO NUMBER PRIMARY KEY NOT NULL,
	POPUP_WRITER VARCHAR2(20) NOT NULL,
	POPUP_NAME NVARCHAR2(40) NOT NULL ,
	POPUP_START DATE NOT NULL,
	POPUP_END DATE NOT NULL,
	POPUP_LOCATION VARCHAR2(40) NOT NULL,
	FOREIGN KEY(POPUP_WRITER) REFERENCES TB_POPCREATOR(USER_ID) ON DELETE CASCADE
);

CREATE TABLE TB_POPBOARD (
	BOARD_NO NUMBER PRIMARY KEY NOT NULL,
	POPUP_NO NUMBER NOT NULL,
	BOARD_WRITER VARCHAR2(20) NOT NULL,
	BOARD_TITLE NVARCHAR2(20) NOT NULL,
	BOARD_CONTENT NVARCHAR2(1000) NOT NULL,
	BOARD_POSTDATE DATE NOT NULL,
	FOREIGN KEY(POPUP_NO) REFERENCES TB_POPUP(POPUP_NO) ON DELETE CASCADE,
	FOREIGN KEY(BOARD_WRITER) REFERENCES TB_POPCREATOR(USER_ID) ON DELETE CASCADE
);

SELECT * FROM TB_POPCREATOR;
SELECT * FROM TB_POPUP;
SELECT * FROM TB_POPBOARD;

CREATE SEQUENCE SEQ_POPUPNO;
DROP SEQUENCE SEQ_POPUPNO;

CREATE SEQUENCE SEQ_BOARDNO;
DROP SEQUENCE SEQ_BOARDNO;
INSERT INTO TB_POPCREATOR VALUES ('user01', 'pass01', '김길동', 19, '남');
INSERT INTO TB_POPCREATOR VALUES ('user02', 'pass02', '박길동', 23, '남');
INSERT INTO TB_POPCREATOR VALUES ('user03', 'pass03', '이길동', 22, '여');

-- user01이 가지고 있는 3개의 팝업
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user01', '춘식이팝업', '2025-10-19','2025-11-19','성수');
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user01', '카카오팝업', '2025-10-11','2025-11-11','홍대');
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user01', '귀칼팝업', '2025-09-23','2025-11-23','건대');

-- user02이 가지고 있는 3개의 팝업
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user02', '춘식이팝업', '2025-10-19','2025-11-19','성수');
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user02', '카카오팝업', '2025-10-11','2025-11-11','홍대');
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user02', '귀칼팝업', '2025-09-23','2025-11-23','건대');

-- user03이 가지고 있는 3개의 팝업
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user03', '춘식이팝업', '2025-10-19','2025-11-19','성수');
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user03', '카카오팝업', '2025-10-11','2025-11-11','홍대');
INSERT INTO TB_POPUP VALUES (SEQ_POPUPNO.NEXTVAL,'user03', '귀칼팝업', '2025-09-23','2025-11-23','건대');

INSERT INTO TB_POPBOARD VALUES (SEQ_BOARDNO.NEXTVAL, 1, 'user01', '춘식이 굿즈 소개', '이번 팝업에서 만나볼 수 있는 춘식이 굿즈들을 소개합니다!', SYSDATE);
INSERT INTO TB_POPBOARD VALUES (SEQ_BOARDNO.NEXTVAL, 1, 'user01', '춘식이 굿즈 소개', '이번 팝업에서 만나볼 수 있는 춘식이 굿즈들을 소개합니다!', SYSDATE);
INSERT INTO TB_POPBOARD VALUES (SEQ_BOARDNO.NEXTVAL, 1, 'user02', '방문 후기', '춘식이 너무 귀여워요! 굿즈 퀄리티가 정말 좋네요', SYSDATE);


DROP TABLE TB_POPCREATOR;
DROP TABLE TB_POPUP;
DROP TABLE TB_POPBOARD;